@using Microsoft.AspNetCore.Identity

@inject SignInManager<IdentityManager.Models.ApplicationUser> SignInManager
@inject UserManager<IdentityManager.Models.ApplicationUser> UserManager

    @{
        if(SignInManager.IsSignedIn(User))
        {
            await SignInManager.SignOutAsync();
            <ul class="navbar-nav">  
                <li class="nav-item">
                    <a class="nav-link" href="#">Hello @UserManager.GetUserName(User)</a>
                </li>
                <li class="nav-item">
                    <form id="logoutForm" method="post" class="form-inline" asp-controller="Account" asp-action="LogOFF">
                        <button type="submit" class="btn nav-link">Logout</button>
                    </form>
                </li>
            </ul>
        }
        else
        {
            if(Convert.ToString(ViewContext.RouteData.Values["controller"]) == "Account"
            && Convert.ToString(ViewContext.RouteData.Values["action"]) == "SignIn")
            {
                <div id="partial_view_top_bar_div" class="top_bar_div">
                    <ul id="top_bar_ul_partial_view">
                        <li class="top_bar_li_partial_view">
                            <a asp-controller="Account" asp-action="FullRegister" class="navbara" id="navbara_partial_view">Register</a>
                        </li>
                    </ul>
                </div>  
            }
            else if(Convert.ToString(ViewContext.RouteData.Values["controller"]) == "Account"
            && Convert.ToString(ViewContext.RouteData.Values["action"]) == "FullRegister")
            {
                <div id="partial_view_top_bar_div" class="top_bar_div">
                    <ul id="top_bar_ul_partial_view">
                        <li class="top_bar_li_partial_view">
                            <a asp-controller="Account" asp-action="SignIn" class="navbara" id="navbara_partial_view">Sign In</a>
                        </li>
                    </ul>
                </div>  
            }
        }
    }